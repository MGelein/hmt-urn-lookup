function copyTextToClipboard(a){var c=$(a).text().split("<>")[0];var e=document.createElement("textarea");e.style.position="fixed";e.style.top=0;e.style.left=0;e.style.width="2em";e.style.height="2em";e.style.padding=0;e.style.border="none";e.style.outline="none";e.style.boxShadow="none";e.style.background="transparent";e.value=c.trim();document.body.appendChild(e);e.select();try{var f=document.execCommand("copy");var d=f?"successful":"unsuccessful";if(d!="successful"){c="ERROR: UNABLE TO COPY"}else{c="Copied: "+c}showNotif(c)}catch(b){showNotif("ERROR: UNABLE TO COPY")}document.body.removeChild(e)}function showNotif(a){$("#notification").removeClass().addClass("showNotification");$("#notificationText").html(a);setTimeout(function(){$("#notification").removeClass().addClass("hideNotification")},2000)}var indexTable;function convertURNIndex(){var b=$("#urnConvBoxIndex").val().toLowerCase();var j=indexTable.length;var d;var f=[];var h=[];var g;var c;var n;var m=(b.length>0)?b:"*";var a="*";if(b.indexOf(".")!=-1){m=b.split(".")[0];if(b.split(".")[1].length>0){a=b.split(".")[1]}}var k;for(var e=0;e<j;e++){d=indexTable[e];g=d.index.substr(d.index.lastIndexOf(":")+1);c=g.split(".")[0];n=g.split(".")[1];if((c==m||m=="*")&&(n==a||a=="*")){g=d.index.substr(d.index.lastIndexOf(":")+1);if(f.length>400){break}k=d.folio.substring(0,d.folio.indexOf(".v1"));f.push("<a href='#' onclick='fillInImageField(\""+k.substr(k.lastIndexOf(".")+1)+"\")'> "+g+"&nbsp;<>&nbsp;"+k+"</a>")}}var l="<div class='text-center'><h4>Oops, no results seem to match your query!</h4><br><p>Please check your spelling or go to the Github issue tracker to request this document to be changed to include your query.</p></div>";if(f.length==0){f.push(l)}$("#urnConvertedIndex").html(f.join("<br>"))}function fillInImageField(a){$("#urnConvBox").val(a);convertURNImage()}var urnTable;function convertURNImage(){var e=$("#urnConvBox").val().toLowerCase();var a=urnTable.length;var c;var d=[];for(var b=0;b<a;b++){c=urnTable[b];if(c.name.indexOf(e)!=-1){d.push("<a href='http://www.homermultitext.org/ict2/index.html?urn="+c.imgName+"' target='_blank'>"+c.name.substr(c.name.lastIndexOf(":")+1)+"&nbsp;<>&nbsp;"+c.imgName.substr(c.imgName.lastIndexOf(":")+1)+"</a>")}}var f="<div class='text-center'><h4>Oops, no results seem to match your query!</h4><br><p>Please check your spelling or go to the Github issue tracker to request this document to be changed to include your query.</p></div>";if(d.length==0){d.push(f)}$("#urnConverted").html(d.join("<br>"))}var persTable;function convertURNPers(){var e=$("#urnConvBoxPers").val().toLowerCase();var a=persTable.length;var c;var d=[];for(var b=0;b<a;b++){c=persTable[b];if(c.Label.toLowerCase().indexOf(e)!=-1&&c.Status!="rejected"&&c.urn!="urn"){d.push("<span class='clickLink' onclick='copyTextToClipboard(this)'>"+c.urn+" <> "+c.Label+"</span>")}}$("#urnConvertedPers").html(d.join("<br>"))}var placeTable;function convertURNPlace(){var e=$("#urnConvBoxPlace").val().toLowerCase();var a=placeTable.length;var c;var d=[];for(var b=0;b<a;b++){c=placeTable[b];if(c.Label.toLowerCase().indexOf(e)!=-1&&c.Status!="rejected"&&c.urn!="urn"){d.push("<span class='clickLink' onclick='copyTextToClipboard(this)'>"+c.urn+" <> "+c.Label+"</span>")}}$("#urnConvertedPlace").html(d.join("<br>"))}$(document).ready(function(){$.ajax({url:"https://raw.githubusercontent.com/homermultitext/hmt-archive/master/archive/indices/tbsToDefaultImage/venA.csv"}).done(function(a){urnTable=csvJSON(a,true,["name","imgName"],false);convertURNImage();$("#imgURNIcon").removeClass().addClass("hidden");$("#imgURNLabel").html("")});$.ajax({url:"https://raw.githubusercontent.com/homermultitext/hmt-authlists/master/data/hmtnames.csv"}).done(function(a){persTable=csvJSON(a,true,["urn","Label","Description","Status","Redirect","StemClass"],true);convertURNPers();$("#persURNIcon").removeClass().addClass("hidden");$("#persURNLabel").html("")});$.ajax({url:"https://raw.githubusercontent.com/homermultitext/hmt-authlists/master/data/hmtplaces.csv"}).done(function(a){placeTable=csvJSON(a,true,["urn","Label","Description","Pleiades","Status","Redirect"],true);convertURNPlace();$("#placeURNIcon").removeClass().addClass("hidden");$("#placeURNLabel").html("")});$.ajax({url:"https://raw.githubusercontent.com/homermultitext/hmt-archive/master/archive/indices/textToSurface/venetusA/venA-Iliad.csv"}).done(function(a){indexTable=csvJSON(a,true,["index","folio"],false);convertURNIndex();$("#indexURNIcon").removeClass().addClass("hidden");$("#indexURNLabel").html("")});$("#urnConvBox").focus(function(){$("#urnConvBox").val("");convertURNImage()});$("#urnConvBoxPers").focus(function(){$("#urnConvBoxPers").val("");convertURNPers()});$("#urnConvBoxPlace").focus(function(){$("#urnConvBoxPlace").val("");convertURNPlace()});$("#urnConvBoxIndex").focus(function(){$("#urnConvBoxIndex").val("");convertURNIndex()})});function csvJSON(f,k,m){var n=f.split("\n");var o=[];var c=n[0].split(",");var e=0;if(k){c=m;e=1}var a=n.length;var b=c.length;var h={};var l;for(var g=1;g<a;g++){h={};l=n[g-e].split(",");for(var d=0;d<b;d++){h[c[d]]=l[d]}o.push(h)}return o};